import{j as k,o as n,b as f,x as e,p as t,V as L,z as V,G as p,I as R,c as E,F as I,a as w,m as N,O as B,k as s,Q as x,w as D}from"./index.f5778ade.js";import"./formatters.b7bd9e2f.js";import{V as y}from"./VBtn.1b313c05.js";import{V as P}from"./VBadge.bcb92f5b.js";import{V as M}from"./VMenu.4f1471ed.js";import{V as O,a as d}from"./VList.6b5daae5.js";import{V as $}from"./VChip.bca106a5.js";import{V as b}from"./VDivider.6c421e0c.js";import{V as z}from"./VListItemAction.17abc4de.js";import{V as C}from"./VAvatar.96e9befc.js";import{u as q}from"./useEmpresaListStore.d0d2b70b.js";import"./index.0d4b9ec4.js";import"./reportStore.4330710e.js";import"./group.e7225ded.js";import"./router.aceff5aa.js";import"./position.1e434685.js";import"./location.c31d3587.js";import"./VImg.337ce076.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.af0aa75f.js";import"./lazy.dd5f2a7f.js";import"./easing.36b781ab.js";import"./dialog-transition.4a40a600.js";import"./index.6e84413a.js";import"./createSimpleFunctional.f5669897.js";import"./axios.80581068.js";import"./environments.3b606d6b.js";const T=N("span",null,"EMPRESA ELIMINADA",-1),F={class:"whitespace-no-wrap text-medium-emphasis"},U={__name:"Notifications",props:{notifications:{type:Array,required:!0},badgeProps:{type:null,required:!1,default:void 0},location:{type:null,required:!1,default:"bottom end"}},emits:["click:readAllNotifications"],setup(_,{emit:l}){const a=_,c=k(),r=()=>{c.replace("/apps/user/list")};return(u,v)=>(n(),f(P,B({"model-value":!!a.badgeProps},a.badgeProps),{default:e(()=>[t(y,{icon:"",variant:"text",color:"default",size:"small"},{default:e(()=>[t(P,{"model-value":!!a.notifications.length,color:"error",content:a.notifications.length},{default:e(()=>[t(L,{icon:"tabler-bell",size:"24"})]),_:1},8,["model-value","content"]),t(M,{activator:"parent",width:"380px",location:a.location,offset:"14px"},{default:e(()=>[t(O,{class:"py-0"},{default:e(()=>[t(d,{title:"Registros del usuario",class:"notification-section",height:"48px"},{append:e(()=>[a.notifications.length?(n(),f($,{key:0,color:"primary",size:"small"},{default:e(()=>[V(p(a.notifications.length)+" Nuevo "+p(a.notifications.length>1?"s":""),1)]),_:1})):R("",!0)]),_:1}),t(b),(n(!0),E(I,null,w(a.notifications,i=>(n(),E(I,{key:i.id},[t(d,{title:`EMPRESA: ${i.nombre}`,subtitle:`RUC: ${i.ruc} FUE ELIMINADA`,link:"",lines:"one","min-height":"66px"},{prepend:e(()=>[t(z,{start:""},{default:e(()=>[t(C,{color:"#ff2825",icon:"tabler-playlist-x",size:"40",variant:"tonal"},{default:e(()=>[T]),_:1})]),_:1})]),default:e(()=>[N("small",F,"el "+p(i.createdAt),1)]),_:2},1032,["title","subtitle"]),t(b)],64))),128)),t(d,{class:"notification-section"},{default:e(()=>[t(y,{block:"",onClick:r},{default:e(()=>[V(" VER TODOS LOS REGISTROS ")]),_:1})]),_:1})]),_:1})]),_:1},8,["location"])]),_:1})]),_:1},16,["model-value"]))}},he={__name:"NavBarNotifications",setup(_){const l=s([]),a=q(),c=s(0),r=s(1),u=s(1),v=s(""),i=s(),S=s(),A=s(),m=s(10);let g;try{g=JSON.parse(sessionStorage.getItem("userData")).id}catch(o){console.error("Error al obtener userData del sessionStorage:",o)}return x(()=>{a.fetchEmpresasEliminadasIfluc({q:v.value,status:A.value,plan:S.value,role:i.value,perPage:m.value,currentPage:r.value,user:g,origen:"ifluc"}).then(o=>{l.value=o.data.empresas,u.value=o.data.totalPage,c.value=o.data.totalEmpresasEliminadasIfluc}).catch(o=>{console.error(o)})}),x(()=>{r.value>u.value&&(r.value=u.value)}),D(()=>{const o=l.value.length?(r.value-1)*m.value+1:0,h=l.value.length+(r.value-1)*m.value;return`Mostrando ${o} a ${h} de ${c.value} registros`}),(o,h)=>(n(),f(U,{notifications:l.value},null,8,["notifications"]))}};export{he as default};
