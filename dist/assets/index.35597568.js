import{k as o,Q as _,w as C,o as f,c as v,p as l,x as n,m as e,F as S,a as b,G as r,C as P,D as A}from"./index.f5778ade.js";import{u as D}from"./useEmpresaListStore.d0d2b70b.js";import{V as N}from"./VCol.55ec6a95.js";import{a as R}from"./VCard.811866d9.js";import{V as g}from"./VCardText.21459e26.js";import{V as U}from"./VSelect.c89c08d3.js";import{d as F}from"./VTextField.04d3c35c.js";import{V as x}from"./VDivider.6c421e0c.js";import{V as k}from"./VTable.ee2562d5.js";import{V as L}from"./VPagination.fc3c8010.js";import{V as z}from"./VRow.6bece164.js";import"./axios.80581068.js";import"./environments.3b606d6b.js";/* empty css              */import"./createSimpleFunctional.f5669897.js";import"./router.aceff5aa.js";import"./VAvatar.96e9befc.js";import"./VImg.337ce076.js";import"./position.1e434685.js";import"./location.c31d3587.js";import"./VList.6b5daae5.js";import"./index.6e84413a.js";import"./forwardRefs.c003b6b8.js";import"./dialog-transition.4a40a600.js";import"./easing.36b781ab.js";import"./VMenu.4f1471ed.js";import"./scopeId.af0aa75f.js";import"./lazy.dd5f2a7f.js";import"./VCheckboxBtn.b9d06dc9.js";import"./VSelectionControl.fb242e40.js";import"./VChip.bca106a5.js";import"./group.e7225ded.js";import"./form.a8b2966d.js";import"./VBtn.1b313c05.js";const B={class:"me-3",style:{width:"80px"}},M={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},O={style:{width:"10rem"}},T=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," RUC "),e("th",{scope:"col"}," EMPRESA "),e("th",{scope:"col"}," CIUDAD "),e("th",{scope:"col"}," PROVINCIA "),e("th",{scope:"col"}," USUARIO "),e("th",{scope:"col"}," FECHA CREACI\xD3N "),e("th",{scope:"col"}," FECHA ELIMINACI\xD3N ")])],-1),$={class:"text-capitalize text-base"},H={class:"text-capitalize text-base font-weight-semibold"},Q={class:"text-base"},j=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No existen empresas eliminadas a\xFAn ")],-1),q=[j],G={class:"text-sm text-disabled"},De={__name:"index",setup(J){const c=o([]),V=D(),p=o(0),i=o(1),d=o(1),m=o(""),E=o(),I=o(),w=o(),u=o(10);let h;try{h=JSON.parse(sessionStorage.getItem("userData")).id}catch(a){console.error("Error al obtener userData del sessionStorage:",a)}_(()=>{V.fetchEmpresasEliminadasIfluc({q:m.value,status:w.value,plan:I.value,role:E.value,perPage:u.value,currentPage:i.value,user:h,origen:"ifluc"}).then(a=>{console.log(a),c.value=a.data.empresas,d.value=a.data.totalPage,p.value=a.data.totalEmpresasEliminadasIfluc,console.log("totalEmpresasEliminadasIfluc: ",p.value)}).catch(a=>{console.error(a)})}),_(()=>{i.value>d.value&&(i.value=d.value)});const y=C(()=>{const a=c.value.length?(i.value-1)*u.value+1:0,s=c.value.length+(i.value-1)*u.value;return`Mostrando ${a} a ${s} de ${p.value} registros`});return(a,s)=>(f(),v("section",null,[l(z,null,{default:n(()=>[l(N,{cols:"12"},{default:n(()=>[l(R,{title:"Registros"},{default:n(()=>[l(g,{class:"d-flex flex-wrap py-4 gap-4"},{default:n(()=>[e("div",B,[l(U,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e("div",M,[e("div",O,[l(F,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),placeholder:"Search",density:"compact"},null,8,["modelValue"])])])]),_:1}),l(x),l(k,{class:"text-no-wrap"},{default:n(()=>[T,e("tbody",null,[(f(!0),v(S,null,b(c.value,t=>(f(),v("tr",{key:t.id,style:{height:"3.75rem"}},[e("td",null,[e("span",$,r(t.ruc),1)]),e("td",null,[e("span",H,r(t.nombre),1)]),e("td",null,[e("span",Q,r(t.ciudad),1)]),e("td",null,r(t.provincia),1),e("td",null,r(t.userId),1),e("td",null,r(t.fechaCreacion),1),e("td",null,r(t.createdAt),1)]))),128))]),P(e("tfoot",null,q,512),[[A,!c.value.length]])]),_:1}),l(x),l(g,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:n(()=>[e("span",G,r(y.value),1),l(L,{modelValue:i.value,"onUpdate:modelValue":s[2]||(s[2]=t=>i.value=t),size:"small","total-visible":5,length:d.value},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{De as default};
