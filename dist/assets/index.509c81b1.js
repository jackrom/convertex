import{k as o,Q as _,w as C,o as f,c as v,p as l,x as n,m as e,F as S,a as b,G as r,C as P,D as A}from"./index.33948166.js";import{u as D}from"./useEmpresaListStore.8aeb34ce.js";import{V as N}from"./VCol.4ace162b.js";import{a as R}from"./VCard.a5913b38.js";import{V as g}from"./VCardText.f212c10e.js";import{V as U}from"./VSelect.d5b9f730.js";import{d as F}from"./VTextField.f42a9e4e.js";import{V as x}from"./VDivider.60486116.js";import{V as k}from"./VTable.7161d966.js";import{V as L}from"./VPagination.1ffa69d9.js";import{V as z}from"./VRow.92104217.js";import"./axios.80581068.js";import"./environments.3b606d6b.js";/* empty css              */import"./createSimpleFunctional.91ff66ba.js";import"./router.0d3dece4.js";import"./VAvatar.952e8192.js";import"./VImg.263fbd81.js";import"./position.b5ad042e.js";import"./location.5b00e6f1.js";import"./VList.bd876076.js";import"./index.0971ba6c.js";import"./forwardRefs.c003b6b8.js";import"./dialog-transition.a6fea1a6.js";import"./easing.36b781ab.js";import"./VMenu.60aea287.js";import"./scopeId.efc7ecf9.js";import"./lazy.29fd26a4.js";import"./VCheckboxBtn.5708c79c.js";import"./VSelectionControl.39694940.js";import"./VChip.0e2cb315.js";import"./group.f4dc1b21.js";import"./form.617ed55b.js";import"./VBtn.dfad1294.js";const B={class:"me-3",style:{width:"80px"}},M={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},O={style:{width:"10rem"}},T=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," RUC "),e("th",{scope:"col"}," EMPRESA "),e("th",{scope:"col"}," CIUDAD "),e("th",{scope:"col"}," PROVINCIA "),e("th",{scope:"col"}," USUARIO "),e("th",{scope:"col"}," FECHA CREACI\xD3N "),e("th",{scope:"col"}," FECHA ELIMINACI\xD3N ")])],-1),$={class:"text-capitalize text-base"},H={class:"text-capitalize text-base font-weight-semibold"},Q={class:"text-base"},j=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No existen empresas eliminadas a\xFAn ")],-1),q=[j],G={class:"text-sm text-disabled"},De={__name:"index",setup(J){const c=o([]),V=D(),p=o(0),i=o(1),d=o(1),m=o(""),E=o(),I=o(),w=o(),u=o(10);let h;try{h=JSON.parse(sessionStorage.getItem("userData")).id}catch(a){console.error("Error al obtener userData del sessionStorage:",a)}_(()=>{V.fetchEmpresasEliminadasIfluc({q:m.value,status:w.value,plan:I.value,role:E.value,perPage:u.value,currentPage:i.value,user:h,origen:"ifluc"}).then(a=>{console.log(a),c.value=a.data.empresas,d.value=a.data.totalPage,p.value=a.data.totalEmpresasEliminadasIfluc,console.log("totalEmpresasEliminadasIfluc: ",p.value)}).catch(a=>{console.error(a)})}),_(()=>{i.value>d.value&&(i.value=d.value)});const y=C(()=>{const a=c.value.length?(i.value-1)*u.value+1:0,s=c.value.length+(i.value-1)*u.value;return`Mostrando ${a} a ${s} de ${p.value} registros`});return(a,s)=>(f(),v("section",null,[l(z,null,{default:n(()=>[l(N,{cols:"12"},{default:n(()=>[l(R,{title:"Registros"},{default:n(()=>[l(g,{class:"d-flex flex-wrap py-4 gap-4"},{default:n(()=>[e("div",B,[l(U,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e("div",M,[e("div",O,[l(F,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),placeholder:"Search",density:"compact"},null,8,["modelValue"])])])]),_:1}),l(x),l(k,{class:"text-no-wrap"},{default:n(()=>[T,e("tbody",null,[(f(!0),v(S,null,b(c.value,t=>(f(),v("tr",{key:t.id,style:{height:"3.75rem"}},[e("td",null,[e("span",$,r(t.ruc),1)]),e("td",null,[e("span",H,r(t.nombre),1)]),e("td",null,[e("span",Q,r(t.ciudad),1)]),e("td",null,r(t.provincia),1),e("td",null,r(t.userId),1),e("td",null,r(t.fechaCreacion),1),e("td",null,r(t.createdAt),1)]))),128))]),P(e("tfoot",null,q,512),[[A,!c.value.length]])]),_:1}),l(x),l(g,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:n(()=>[e("span",G,r(y.value),1),l(L,{modelValue:i.value,"onUpdate:modelValue":s[2]||(s[2]=t=>i.value=t),size:"small","total-visible":5,length:d.value},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{De as default};
