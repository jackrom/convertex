import{a2 as h}from"./index.33948166.js";import{a}from"./axios.80581068.js";import{e as o}from"./environments.3b606d6b.js";import{u as d}from"./reportStore.5b74d996.js";d();const y=h("SuperciasListStore",{actions:{fetchReportesIfluc(e){return a.get(`${o.apiUrl}/reportesifluc/byuser`,{params:e})},addReporteSupercias(e){return new Promise((n,i)=>{a.post(`${o.apiUrl}/reportesifluc`,{reporte:e.reporte}).then(t=>{var m,v,g;const s=t.data&&t.data.reporteId?t.data.reporteId:JSON.parse(localStorage.getItem("reporteId"));console.log("reporteId",s);const l=((m=e.activoscorrientesifluc)==null?void 0:m.userId)||JSON.parse(sessionStorage.getItem("userData")).id,I=((v=e.activoscorrientesifluc)==null?void 0:v.empresaId)||JSON.parse(sessionStorage.getItem("empresanueva")),u=((g=e.activoscorrientesifluc)==null?void 0:g.periodoId)||JSON.parse(sessionStorage.getItem("periodonuevo")),f=[],p=(c,r)=>{r||(r={}),r.reporteId=s,r.userId=l,r.empresaId=I,r.periodoId=u,s&&l&&u&&(console.log("data: ",r),f.push(a.post(`${o.apiUrl}/${c}`,{cuentas:r})))};[{endpoint:"activoscorrientesifluc",data:e.activoscorrientesifluc},{endpoint:"activosnocorrientesifluc",data:e.activosnocorrientesifluc},{endpoint:"pasivoscorrientesifluc",data:e.pasivoscorrientesifluc},{endpoint:"pasivosnocorrientesifluc",data:e.pasivosnocorrientesifluc},{endpoint:"patrimonioifluc",data:e.patrimonioifluc},{endpoint:"costosifluc",data:e.costosifluc},{endpoint:"ingresosifluc",data:e.ingresosifluc},{endpoint:"otrosingresosifluc",data:e.otrosingresosifluc},{endpoint:"gastosdeventasifluc",data:e.gastosdeventasifluc},{endpoint:"gastosfinancierosifluc",data:e.gastosfinancierosifluc},{endpoint:"gastosadministrativosifluc",data:e.gastosadministrativosifluc},{endpoint:"otrosgastosifluc",data:e.otrosgastosifluc},{endpoint:"resultadosifluc",data:e.resultadosifluc},{endpoint:"operacionesdiscontinuadasIfluc",data:e.operacionesdiscontinuadasifluc},{endpoint:"otrosresultadosintegralesifluc",data:e.otrosresultadosintegralifluc},{endpoint:"participacioncontroladoraifluc",data:e.resultadosparticipacioncontroladoraifluc},{endpoint:"actividadesdeoperacionifluc",data:e.actividadesdeoperacionifluc},{endpoint:"actividadesdeinversionifluc",data:e.actividadesdeinversionifluc},{endpoint:"actividadesdefinanciamientoifluc",data:e.actividadesdefinanciamientoifluc},{endpoint:"conciliacionifluc",data:e.conciliacionganancianetaifluc},{endpoint:"ecpifluc",data:e.ecpifluc},{endpoint:"perdidasacumcuentasincobydeterioroifluc",data:e.movperdidasacumuladascuentasincobrablesydeterioro},{endpoint:"perdidasacumvalnetrealizyotrasperdeninvifluc",data:e.movperdidasacumuladasvalornetorealizacion},{endpoint:"propiedadesplantasyequiposifluc",data:e.movpropiedadesplantasyequipos},{endpoint:"propiedadesdeinversionifluc",data:e.movpropiedadesdeinversion},{endpoint:"intangiblesifluc",data:e.movintangibles},{endpoint:"activosbiologicosifluc",data:e.movactivosbiologicos},{endpoint:"impuestosdiferidosifluc",data:e.movimpuestosdiferidos},{endpoint:"jubilacionpatronalifluc",data:e.movjubilacionpatronal},{endpoint:"deshaucioifluc",data:e.deshaucio},{endpoint:"activosfinancieroslargoplazoifluc",data:e.activosfinancieroslargoplazo},{endpoint:"otrosifluc",data:e.otros}].forEach(c=>p(c.endpoint,c.data)),[{endpoint:"activoscorrientesantifluc",data:e.activoscorrientesifluc_ant},{endpoint:"activosnocorrientesantifluc",data:e.activosnocorrientesifluc_ant},{endpoint:"pasivoscorrientesantifluc",data:e.pasivoscorrientesifluc_ant},{endpoint:"pasivosnocorrientesantifluc",data:e.pasivosnocorrientesifluc_ant},{endpoint:"patrimonioantifluc",data:e.patrimonioifluc_ant},{endpoint:"costosantifluc",data:e.costosifluc_ant},{endpoint:"ingresosantifluc",data:e.ingresosifluc_ant},{endpoint:"otrosingresosantifluc",data:e.otrosingresosifluc_ant},{endpoint:"gastosdeventasantifluc",data:e.gastosdeventasifluc_ant},{endpoint:"gastosfinancierosantifluc",data:e.gastosfinancierosifluc_ant},{endpoint:"gastosadministrativosantifluc",data:e.gastosadministrativosifluc_ant},{endpoint:"otrosgastosantifluc",data:e.otrosgastosifluc_ant},{endpoint:"resultadosantifluc",data:e.resultadosifluc_ant},{endpoint:"operacionesdiscontinuadasantIfluc",data:e.operacionesdiscontinuadasifluc_ant},{endpoint:"otrosresultadosintegralesantifluc",data:e.otrosresultadosintegralifluc_ant},{endpoint:"participacioncontroladoraantifluc",data:e.resultadosparticipacioncontroladoraifluc_ant},{endpoint:"perdidasacumcuentasincobydeterioroantifluc",data:e.movperdidasacumuladascuentasincobrablesydeterioro_ant},{endpoint:"perdidasacumvalnetrealizyotrasperdeninvantifluc",data:e.movperdidasacumuladasvalornetorealizacion_ant},{endpoint:"propiedadesplantasyequiposantifluc",data:e.movpropiedadesplantasyequipos_ant},{endpoint:"propiedadesdeinversionantifluc",data:e.movpropiedadesdeinversion_ant},{endpoint:"intangiblesantifluc",data:e.movintangibles_ant},{endpoint:"activosbiologicosantifluc",data:e.movactivosbiologicos_ant},{endpoint:"impuestosdiferidosantifluc",data:e.movimpuestosdiferidos_ant},{endpoint:"jubilacionpatronalantifluc",data:e.movjubilacionpatronal_ant},{endpoint:"deshaucioantifluc",data:e.deshaucio_ant},{endpoint:"activosfinancieroslargoplazoantifluc",data:e.activosfinancieroslargoplazo_ant},{endpoint:"otrosantifluc",data:e.otros_ant}].forEach(c=>p(c.endpoint,c.data)),Promise.all(f).then(()=>n(t)).catch(c=>{console.error("Error en las peticiones",c),i(c)})}).catch(t=>i(t))})},fetchReporteIflucActual(e){console.log(e),localStorage.setItem("reporteId",JSON.stringify(e.reporteId));const n=d();return a.get(`${o.apiUrl}/reportesifluc/actualnew/${e.reporteId}`).then(i=>{console.log(i),i.data.empresaId=e.empresaId,i.data.nombre_reporte="ifluc",i.data.periodoId=e.periodoId,i.data.periodosreporteifluc=e.periodosreporteifluc,i.data.empresareporteifluc=e.empresareporteifluc,i.data.userId=e.userId,i.data.reporteTurboNotas&&localStorage.setItem("entidad",JSON.stringify(i.data.reporteTurboNotas)),i.data.reporteInformeSocietario&&localStorage.setItem("informesocietario",JSON.stringify(i.data.reporteInformeSocietario)),n.setReportData(i.data),localStorage.setItem("empresa",JSON.stringify(i.data.empresareporteifluc))}).catch(i=>{console.error("Error al obtener el reporte:",i)})},fetchReporteIflucAnterior(e){const n=d();return a.get(`${o.apiUrl}/reportesifluc/anteriornew/${e.reporteId}`).then(i=>{i.data.empresaId=e.empresaId,i.data.nombre_reporte="ifluc",i.data.periodoId=e.periodoId,i.data.periodosreporteifluc=e.periodosreporteifluc,i.data.empresareporteifluc=e.empresareporteifluc,i.data.userId=e.userId,n.setReportDataAnt(i.data)}).catch(i=>{console.error("Error al obtener el reporte:",i)})},fetchReporteSuperciasByCompanyByPeriodo(e,n){return new Promise((i,t)=>{a.get(`${o.apiUrl}/reportesifluc/${e}/${n}`).then(s=>i(s)).catch(s=>t(s))})},eliminarReporteSeleccionado(e){return new Promise((n,i)=>{a.delete(`${o.apiUrl}/reportesifluc/${e}`).then(t=>{n(t)}).catch(t=>i(t))})},fetchReporteIflucByPeriodoActual(e){return new Promise((n,i)=>{a.get(`${o.apiUrl}/reportesIfluc/actual/ByPeriodo/${e}`).then(t=>{n(t)}).catch(t=>{i(t)})})},addReporteTurboNotas(e){return console.log("reporteData",e),new Promise((n,i)=>{a.post(`${o.apiUrl}/turbonotasfc`,{reporte:e}).then(t=>{n(t)}).catch(t=>i(t))})},getReporteTurboNotas(e){return new Promise((n,i)=>{a.get(`${o.apiUrl}/turbonotasfc/${e}`).then(t=>{n(t)}).catch(t=>i(t))})},addReporteInformeSocietario(e){return e.reporteId=e.entidad.reporteId,new Promise((n,i)=>{a.post(`${o.apiUrl}/informesocietariofc`,{reporte:e}).then(t=>{n(t)}).catch(t=>i(t))})},getReporteInformeSocietario(e){return new Promise((n,i)=>{a.get(`${o.apiUrl}/informesocietariofc/${e}`).then(t=>{n(t)}).catch(t=>i(t))})},updateReporteIfluc(e){return e.reporteId=JSON.parse(localStorage.getItem("reporteId")),console.log("reporteData: ",e),new Promise((n,i)=>{a.put(`${o.apiUrl}/reportesIfluc`,{reporte:e}).then(t=>{n(t)}).catch(t=>i(t))})},addReporteDynamicFlowActividadesDeFinanciamiento(e){return delete e.createdAt,delete e.id,delete e.updatedAt,new Promise((n,i)=>{a.post(`${o.apiUrl}/actividadesdefinanciamientofdifluc`,{reporte:e}).then(t=>{n(t)}).catch(t=>i(t))})},getReporteDynamicFlowActividadesDeFinanciamiento(e){return new Promise((n,i)=>{a.get(`${o.apiUrl}/actividadesdefinanciamientofdifluc/${e}`).then(t=>{n(t)}).catch(t=>i(t))})},addReporteDynamicFlowActividadesDeOperacion(e){return delete e.createdAt,delete e.id,delete e.updatedAt,new Promise((n,i)=>{a.post(`${o.apiUrl}/actividadesdeoperacionnfdifluc`,{reporte:e}).then(t=>{n(t)}).catch(t=>i(t))})},getReporteDynamicFlowActividadesDeOperacion(e){return new Promise((n,i)=>{a.get(`${o.apiUrl}/actividadesdeoperacionnfdifluc/${e}`).then(t=>{n(t)}).catch(t=>i(t))})},addReporteDynamicFlowActividadesDeInversion(e){return delete e.createdAt,delete e.id,delete e.updatedAt,new Promise((n,i)=>{a.post(`${o.apiUrl}/actividadesdeinversionfdifluc`,{reporte:e}).then(t=>{n(t)}).catch(t=>i(t))})},getReporteDynamicFlowActividadesDeInversion(e){return new Promise((n,i)=>{a.get(`${o.apiUrl}/actividadesdeinversionfdifluc/${e}`).then(t=>{n(t)}).catch(t=>i(t))})},addReporteDynamicFlowConciliacion(e){return delete e.createdAt,delete e.id,delete e.updatedAt,new Promise((n,i)=>{a.post(`${o.apiUrl}/conciliacionfdifluc`,{reporte:e}).then(t=>{n(t)}).catch(t=>i(t))})},getReporteDynamicFlowConciliacion(e){return new Promise((n,i)=>{a.get(`${o.apiUrl}/conciliacionfdifluc/${e}`).then(t=>{n(t)}).catch(t=>i(t))})}}});export{y as u};
